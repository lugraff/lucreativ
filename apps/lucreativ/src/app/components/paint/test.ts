import { AfterViewInit, Component, ElementRef, Renderer2 } from '@angular/core';
import { CommonModule } from '@angular/common';

@Component({  selector: 'testing-popup-page',  
standalone: true,  imports: [CommonModule],  
templateUrl: './popup-page.component.html',})

export class PopupPageComponent implements AfterViewInit {  
    constructor(private renderer: Renderer2, private elRef: ElementRef) {}  
    
    ngAfterViewInit(): void {    
        const canvasElement = this.renderer.createElement('canvas');    
        canvasElement.id = 'CreatedCanvas';    
        canvasElement.width = 400;    
        canvasElement.height = 400;    
        // const canvasElement = document.getElementById('canvas') as HTMLCanvasElement;    
        const ctx = canvasElement.getContext('2d');    
        const img = new Image();    
        const svg = `<svg    xmlns="http://w74 150"    width="374"    height="150">    <path      d="M 172.000,59.000 C 171.845,61.605 171.500,61.500 171.000,64.000"      stroke-width="1.231"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 171.000,64.000 C 168.899,70.202 168.845,70.105 166.000,76.000"      stroke-width="2.158"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 166.000,76.000 C 163.232,81.151 163.399,81.202 160.000,86.000"      stroke-width="2.824"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 160.000,86.000 C 154.797,95.196 154.232,94.651 148.000,103.000"      stroke-width="2.611"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 148.000,103.000 C 140.492,109.991 141.297,110.696 133.000,117.000"      stroke-width="2.567"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 133.000,117.000 C 125.487,125.105 124.992,124.491 117.000,132.000"      stroke-width="2.545"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 117.000,132.000 C 109.305,138.017 109.487,138.105 101.000,143.000"      stroke-width="2.656"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 101.000,143.000 C 94.372,147.712 94.305,147.017 87.000,150.000"      stroke-width="2.841"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 87.000,150.000 C 77.739,153.688 79.872,152.212 72.000,152.000"      stroke-width="2.876"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 72.000,152.000 C 70.565,148.579 69.239,151.188 70.000,145.000"      stroke-width="4.056"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 70.000,145.000 C 69.717,138.974 69.065,139.079 69.000,133.000"      stroke-width="3.490"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 69.000,133.000 C 67.653,126.527 68.217,126.474 67.000,120.000"      stroke-width="3.261"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 67.000,120.000 C 66.015,116.202 66.653,116.527 67.000,113.000"      stroke-width="3.736"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 67.000,113.000 C 67.908,108.406 68.015,109.702 71.000,107.000"      stroke-width="3.883"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 71.000,107.000 C 79.883,103.935 78.908,103.406 89.000,103.000"      stroke-width="2.970"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 89.000,103.000 C 99.522,102.513 99.383,101.935 110.000,103.000"      stroke-width="2.698"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 110.000,103.000 C 121.110,103.325 121.022,103.513 132.000,105.000"      stroke-width="2.454"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 132.000,105.000 C 140.664,106.453 140.610,106.325 149.000,109.000"      stroke-width="2.770"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 149.000,109.000 C 158.683,112.118 158.664,111.953 168.000,116.000"      stroke-width="2.562"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 168.000,116.000 C 170.442,117.605 170.683,117.118 173.000,119.000"      stroke-width="3.548"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 173.000,119.000 C 175.949,120.613 175.942,120.605 179.000,122.000"      stroke-width="3.874"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 179.000,122.000 C 181.385,123.598 181.449,123.113 184.000,124.000"      stroke-width="4.144"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 184.000,124.000 C 188.026,124.361 187.885,124.598 192.000,124.000"      stroke-width="3.966"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 192.000,124.000 C 200.006,124.854 199.026,123.361 206.000,122.000"      stroke-width="3.225"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 206.000,122.000 C 210.017,118.360 210.506,119.854 213.000,114.000"      stroke-width="3.332"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 213.000,114.000 C 217.049,108.854 216.517,108.860 219.000,103.000"      stroke-width="3.206"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 219.000,103.000 C 220.549,96.542 221.049,96.854 221.000,90.000"      stroke-width="3.182"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 221.000,90.000 C 222.545,81.724 221.549,82.042 221.000,74.000"      stroke-width="2.914"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 221.000,74.000 C 219.141,63.568 219.045,64.224 214.000,55.000"      stroke-width="2.598"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 214.000,55.000 C 206.989,42.879 207.141,43.568 197.000,34.000"      stroke-width="2.222"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 197.000,34.000 C 183.767,22.876 184.489,22.879 169.000,15.000"      stroke-width="1.913"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 169.000,15.000 C 160.694,11.338 161.267,10.876 152.000,10.000"      stroke-width="2.386"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 152.000,10.000 C 140.908,8.394 141.194,8.338 130.000,9.000"      stroke-width="2.373"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 130.000,9.000 C 122.318,8.943 122.908,9.394 116.000,12.000"      stroke-width="2.761"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 116.000,12.000 C 107.066,17.485 106.818,16.443 99.000,24.000"      stroke-width="2.532"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 99.000,24.000 C 94.220,28.253 94.066,27.985 90.000,33.000"      stroke-width="2.925"      stroke="#000000"      fill="none"      stroke-linecap="round"></path>    <path      d="M 90.000,33.000 C 81.273,40.057 86.220,37.253 83.000,42.000"      stroke-width="3.703"      stroke="#000000"      fill="none"      stroke-linecap="round"></path></svg>`;    
        const blob = new Blob([svg], { type: 'image/svg+xml' });    
        const url = URL.createObjectURL(blob);    
        
        img.onload = function () {      
            if (ctx !== null) {        
                ctx.drawImage(img, 0, 0);      
            }    
        };    
        img.src = url;    
        this.elRef.nativeElement.appendChild(canvasElement)
            // ww.w3.org/2000/svg"    xmlns:xlink="http:
        //www.w3.org/1999/xlink"    viewBox="0 0 3Element); 
     }}
