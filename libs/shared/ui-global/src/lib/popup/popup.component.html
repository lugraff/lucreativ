<div
  *ngIf="backCovered"
  (click)="onOutsideClick()"
  [ngClass]="
    globalUISettings.LowCPU ? 'bg-textB opacity-30' : 'backdrop-blur-[1px] backdrop-brightness-75 animate-fadeIn'
  "
  class="fixed left-0 top-0 w-screen h-screen z-30"></div>
<div
  [id]="elementId"
  (mouseleave)="activeWindow = false"
  (mouseenter)="activeWindow = true"
  class="fixed flex flex-col -translate-x-1/2 -translate-y-1/2 max-w-full max-h-full min-w-fit min-h-[2rem]"
  [ngStyle]="{ top: appearY, left: appearX }"
  [ngClass]="backCovered || dragWindow || activeWindow ? 'z-40' : 'z-20'">
  <div
    class="{{ globalUISettings.AnimationType }} h-full bg-bgA border border-tertiary
         hover:border-secondary shadow-lg shadow-bgA overflow-clip">
    <div class="relative flex bg-bgB z-20 select-none">
      <div
        class="flex grow text-xl my-auto ml-2 whitespace-nowrap truncate"
        [ngClass]="activeWindow ? 'text-primary' : 'text-tertiary'"
        (mousedown)="onStartMove($event)">
        <div
          *ngIf="icon.length"
          class="pr-2 my-auto">
          <global-standard-icons [icon]="icon"></global-standard-icons>
        </div>
        {{ myTitle }}
      </div>
      <global-standard-icons
        *ngIf="(minimizeable || resizeable) && status !== 'minimized'"
        icon="minimize"
        (click)="onMinimize()"
        [ownColor]="true"
        class="pr-1 py-1 stroke-tertiary hover:stroke-primary"></global-standard-icons>
      <global-standard-icons
        *ngIf="resizeable && status !== 'maximized'"
        icon="full"
        (click)="onMaximize()"
        [ownColor]="true"
        class="pr-1 py-1 stroke-tertiary hover:stroke-primary"></global-standard-icons>
      <global-standard-icons
        *ngIf="(minimizeable || resizeable) && status !== ''"
        icon="windowed"
        (click)="onWindowed()"
        [ownColor]="true"
        class="pr-1 py-1 stroke-tertiary hover:stroke-primary"></global-standard-icons>
      <global-standard-icons
        *ngIf="closeable"
        icon="x"
        (click)="onClose()"
        [ownColor]="true"
        class="pr-1 py-1 stroke-tertiary hover:stroke-danger"></global-standard-icons>
    </div>
    <div
      *ngIf="resizeable && status !== 'minimized'"
      class="fixed left-[calc(100%-1.3rem)] top-[calc(100%-1.5rem)] z-20">
      <global-standard-icons
        (mousedown)="onStartResize($event)"
        icon="scale"
        [ownColor]="true"
        class="stroke-tertiary hover:stroke-primary"></global-standard-icons>
    </div>

    <div
      class="flex flex-col max-h-[calc(100%-2.2rem)] elite_v_scrollbar pl-3 py-3"
      [ngClass]="resizeWindow ? 'pointer-events-none select-none' : ''">
      <ng-content></ng-content>
    </div>
  </div>
</div>
